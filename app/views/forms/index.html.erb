<head>
  <link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/slick-carousel@1.8.1/slick/slick.min.css"/>
  <link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/slick-carousel@1.8.1/slick/slick-theme.min.css"/>
</head>
<div class="background">
  <%= render "components/vertical_navbar"%>
  <div class="dummy-temporary" style="width: 200px;"></div>
  <div class="main-container">
    <div class="form-display">
    <div class="tab-bar">
      <ul id="menu">
        <li style="color: black; font-weight: 500">My forms</li>
        <li>Presets</li>
        <li>Deleted</li>
      </ul>
      <div class="interactive my-3">
        <%=link_to "Create", new_form_path, class:"btn-above-page mr-5"%>
      </div>
    </div>
    <hr id="divider">
      <div class="card-grid" id="slick-show">
        <% @forms.each do |form| %>
          <div class="card-index">
            <div class="card-content">
              <%=link_to "#{form.name}",  form_path(form), class:"card-link"%>
              <p><%=form.presented_on%></p>
              <div class="card-content">
                  <div class="inside-card"><%= "my:questions: #{form.questions.count} " %></div>
                  <div class="inside-card"><%= "my:answers: #{Answer.joins(question:  {form_questions: :form} ).where(forms: {id: form.id}).count}" %></div>
                </div>
              <hr>
                <div id="delete-bin"class="delete-form"><%= link_to "", form_path(form), data: {:confirm => 'Are you sure?'}, :method => :delete, class:"fas fa-trash"  %></div>
            </div>
          </div>
        <% end %>
      </div>
      <hr id="divider">
      <div class="card-grid">
          <div class="card-index">
            <div class="card-dasboard">
              <p><%= "my:forms - #{@forms.count}" %></p>
              <%# @forms.each do |form| %>
              <%# sum += form.questions.count %>
              <p><%#= "my:questions - #{sum}" %></p>
              <%# end %>
              <p><%#= "my:answers - #{Answer.joins(question:  {form_questions: :form} ).where(forms: {id: form.id}).count}" %></p>
              <hr>
            </div>
          </div>
      </div>
    </div>
  </div>
</div>

<script type="text/javascript" src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
<script type="text/javascript" src="https://code.jquery.com/jquery-migrate-3.3.1.min.js"></script>
<script type="text/javascript" src="https://cdn.jsdelivr.net/npm/slick-carousel@1.8.1/slick/slick.min.js"></script>
<script>
  $(document).ready(function(){
  $('.card-grid').slick({
    slidesToShow: 4,
    slidesToScroll: 4,
    arrows: true
  });
});
</script>
